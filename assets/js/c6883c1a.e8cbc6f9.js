"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[5024],{2389(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>g,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"module-1-ros/debugging","title":"Verification and Debugging in ROS 2","description":"Overview","source":"@site/docs/module-1-ros/debugging.md","sourceDirName":"module-1-ros","slug":"/module-1-ros/debugging","permalink":"/Book-ai-native/docs/module-1-ros/debugging","draft":false,"unlisted":false,"editUrl":"https://github.com/Malaikaali2/Book-ai-native/tree/main/docs/module-1-ros/debugging.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Sensor Fusion Implementation Guide","permalink":"/Book-ai-native/docs/module-1-ros/sensor-fusion"},"next":{"title":"Module 1 Summary: The Robotic Nervous System (ROS 2)","permalink":"/Book-ai-native/docs/module-1-ros/summary"}}');var i=r(4848),t=r(8453);const o={sidebar_position:7},a="Verification and Debugging in ROS 2",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Debugging Tools and Techniques",id:"debugging-tools-and-techniques",level:2},{value:"1. ROS 2 Command Line Tools",id:"1-ros-2-command-line-tools",level:3},{value:"Node Inspection",id:"node-inspection",level:4},{value:"Topic Inspection",id:"topic-inspection",level:4},{value:"Service and Action Inspection",id:"service-and-action-inspection",level:4},{value:"2. Logging and Diagnostics",id:"2-logging-and-diagnostics",level:3},{value:"ROS 2 Logging System",id:"ros-2-logging-system",level:4},{value:"Launch File Logging Configuration",id:"launch-file-logging-configuration",level:4},{value:"3. Interactive Debugging",id:"3-interactive-debugging",level:3},{value:"Using rqt Tools",id:"using-rqt-tools",level:4},{value:"Creating Custom Debug Nodes",id:"creating-custom-debug-nodes",level:4},{value:"Verification Techniques",id:"verification-techniques",level:2},{value:"1. Unit Testing",id:"1-unit-testing",level:3},{value:"Basic Unit Tests",id:"basic-unit-tests",level:4},{value:"Integration Testing with Mock Data",id:"integration-testing-with-mock-data",level:4},{value:"2. System Verification",id:"2-system-verification",level:3},{value:"Creating Verification Nodes",id:"creating-verification-nodes",level:4},{value:"Advanced Debugging Techniques",id:"advanced-debugging-techniques",level:2},{value:"1. Performance Profiling",id:"1-performance-profiling",level:3},{value:"CPU and Memory Monitoring",id:"cpu-and-memory-monitoring",level:4},{value:"2. Message Filtering and Analysis",id:"2-message-filtering-and-analysis",level:3},{value:"Best Practices for Verification and Debugging",id:"best-practices-for-verification-and-debugging",level:2},{value:"1. Systematic Approach",id:"1-systematic-approach",level:3},{value:"2. Documentation and Traceability",id:"2-documentation-and-traceability",level:3},{value:"3. Automated Testing",id:"3-automated-testing",level:3},{value:"4. Performance Monitoring",id:"4-performance-monitoring",level:3},{value:"Troubleshooting Common Issues",id:"troubleshooting-common-issues",level:2},{value:"1. Communication Issues",id:"1-communication-issues",level:3},{value:"2. Timing Issues",id:"2-timing-issues",level:3},{value:"3. Resource Issues",id:"3-resource-issues",level:3},{value:"References",id:"references",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"verification-and-debugging-in-ros-2",children:"Verification and Debugging in ROS 2"})}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"Effective verification and debugging are crucial for developing robust robotic systems. This section covers essential tools, techniques, and best practices for debugging ROS 2 applications and verifying system behavior."}),"\n",(0,i.jsx)(n.h2,{id:"debugging-tools-and-techniques",children:"Debugging Tools and Techniques"}),"\n",(0,i.jsx)(n.h3,{id:"1-ros-2-command-line-tools",children:"1. ROS 2 Command Line Tools"}),"\n",(0,i.jsx)(n.h4,{id:"node-inspection",children:"Node Inspection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List all active nodes\r\nros2 node list\r\n\r\n# Get information about a specific node\r\nros2 node info <node_name>\r\n\r\n# Find nodes that match a pattern\r\nros2 node list | grep <pattern>\n"})}),"\n",(0,i.jsx)(n.h4,{id:"topic-inspection",children:"Topic Inspection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List all topics\r\nros2 topic list\r\n\r\n# Get information about a specific topic\r\nros2 topic info <topic_name>\r\n\r\n# Echo messages on a topic\r\nros2 topic echo <topic_name> <msg_type>\r\n\r\n# Echo with filtering (first 10 messages)\r\nros2 topic echo <topic_name> <msg_type> --field <field_name> --limit 10\r\n\r\n# Publish a message to a topic\r\nros2 topic pub <topic_name> <msg_type> '{field1: value1, field2: value2}'\n"})}),"\n",(0,i.jsx)(n.h4,{id:"service-and-action-inspection",children:"Service and Action Inspection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List all services\r\nros2 service list\r\n\r\n# Call a service\r\nros2 service call <service_name> <service_type> '{request_field: value}'\r\n\r\n# List all actions\r\nros2 action list\r\n\r\n# Send a goal to an action\r\nros2 action send_goal <action_name> <action_type> '{goal_field: value}'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-logging-and-diagnostics",children:"2. Logging and Diagnostics"}),"\n",(0,i.jsx)(n.h4,{id:"ros-2-logging-system",children:"ROS 2 Logging System"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\n\r\nclass DebuggingNode(Node):\r\n\r\n    def __init__(self):\r\n        super().__init__('debugging_node')\r\n\r\n        # Different log levels\r\n        self.get_logger().debug('Debug message')\r\n        self.get_logger().info('Info message')\r\n        self.get_logger().warn('Warning message')\r\n        self.get_logger().error('Error message')\r\n        self.get_logger().fatal('Fatal message')\r\n\r\n        # Logging with parameters\r\n        value = 42\r\n        self.get_logger().info(f'Current value: {value}')\r\n\r\n        # Conditional logging\r\n        if value > 40:\r\n            self.get_logger().warn(f'Value {value} is higher than threshold')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = DebuggingNode()\r\n\r\n    # Set log level programmatically\r\n    node.get_logger().set_level(rclpy.logging.LoggingSeverity.DEBUG)\r\n\r\n    try:\r\n        rclpy.spin(node)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        node.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.h4,{id:"launch-file-logging-configuration",children:"Launch File Logging Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        Node(\r\n            package='my_package',\r\n            executable='debugging_node',\r\n            name='debugging_node',\r\n            parameters=[\r\n                {'use_sim_time': False},\r\n            ],\r\n            # Configure logging\r\n            arguments=['--ros-args', '--log-level', 'debug'],\r\n            # Remap topics for debugging\r\n            remappings=[\r\n                ('/original_topic', '/debug_topic'),\r\n            ]\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-interactive-debugging",children:"3. Interactive Debugging"}),"\n",(0,i.jsx)(n.h4,{id:"using-rqt-tools",children:"Using rqt Tools"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Launch the rqt GUI\r\nrqt\r\n\r\n# Launch specific rqt plugins\r\nrqt_graph                    # Visualize node connections\r\nrqt_console                  # View log messages\r\nrqt_plot                     # Plot numerical values\r\nrqt_topic                    # Monitor topics\r\nrqt_service_caller           # Call services interactively\r\nrqt_publisher              # Publish messages interactively\n"})}),"\n",(0,i.jsx)(n.h4,{id:"creating-custom-debug-nodes",children:"Creating Custom Debug Nodes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String, Float32\r\nfrom sensor_msgs.msg import LaserScan\r\nfrom geometry_msgs.msg import Twist\r\n\r\nclass DebugBridgeNode(Node):\r\n    """Bridge node to convert and debug different message types"""\r\n\r\n    def __init__(self):\r\n        super().__init__(\'debug_bridge_node\')\r\n\r\n        # Subscribers for different sensor types\r\n        self.lidar_sub = self.create_subscription(\r\n            LaserScan, \'scan\', self.lidar_callback, 10)\r\n\r\n        self.cmd_vel_sub = self.create_subscription(\r\n            Twist, \'cmd_vel\', self.cmd_vel_callback, 10)\r\n\r\n        # Publishers for debugging\r\n        self.debug_pub = self.create_publisher(\r\n            String, \'debug_info\', 10)\r\n\r\n        # Timer for periodic status reports\r\n        self.timer = self.create_timer(1.0, self.status_callback)\r\n\r\n        self.lidar_data = None\r\n        self.cmd_vel_data = None\r\n\r\n    def lidar_callback(self, msg):\r\n        """Process and debug lidar data"""\r\n        self.lidar_data = msg\r\n        self.get_logger().debug(f\'Lidar ranges: {len(msg.ranges)} points\')\r\n\r\n        # Check for potential issues\r\n        if any(r < 0.1 for r in msg.ranges if r > 0):\r\n            self.get_logger().warn(\'Lidar detected very close obstacle\')\r\n\r\n        # Publish debug info\r\n        debug_msg = String()\r\n        debug_msg.data = f\'Lidar: {len(msg.ranges)} ranges, min: {min(msg.ranges) if msg.ranges else "N/A"}\'\r\n        self.debug_pub.publish(debug_msg)\r\n\r\n    def cmd_vel_callback(self, msg):\r\n        """Process and debug velocity commands"""\r\n        self.cmd_vel_data = msg\r\n        self.get_logger().debug(f\'Velocity command: {msg.linear.x}, {msg.angular.z}\')\r\n\r\n        # Check for unusual commands\r\n        if abs(msg.linear.x) > 1.0 or abs(msg.angular.z) > 1.0:\r\n            self.get_logger().warn(\'Unusually high velocity command\')\r\n\r\n    def status_callback(self):\r\n        """Periodic status report"""\r\n        if self.lidar_data and self.cmd_vel_data:\r\n            status_msg = String()\r\n            status_msg.data = f\'Status: Lidar OK, CmdVel: ({self.cmd_vel_data.linear.x:.2f}, {self.cmd_vel_data.angular.z:.2f})\'\r\n            self.debug_pub.publish(status_msg)\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = DebugBridgeNode()\r\n\r\n    try:\r\n        rclpy.spin(node)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        node.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == \'__main__\':\r\n    main()\n'})}),"\n",(0,i.jsx)(n.h2,{id:"verification-techniques",children:"Verification Techniques"}),"\n",(0,i.jsx)(n.h3,{id:"1-unit-testing",children:"1. Unit Testing"}),"\n",(0,i.jsx)(n.h4,{id:"basic-unit-tests",children:"Basic Unit Tests"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import unittest\r\nimport rclpy\r\nfrom rclpy.executors import SingleThreadedExecutor\r\nfrom my_package.my_node import MyNode\r\n\r\nclass TestMyNode(unittest.TestCase):\r\n\r\n    @classmethod\r\n    def setUpClass(cls):\r\n        rclpy.init()\r\n\r\n    @classmethod\r\n    def tearDownClass(cls):\r\n        rclpy.shutdown()\r\n\r\n    def setUp(self):\r\n        self.node = MyNode()\r\n        self.executor = SingleThreadedExecutor()\r\n        self.executor.add_node(self.node)\r\n\r\n    def tearDown(self):\r\n        self.node.destroy_node()\r\n\r\n    def test_node_initialization(self):\r\n        """Test that the node initializes correctly"""\r\n        self.assertIsNotNone(self.node)\r\n        self.assertEqual(self.node.get_name(), \'my_node\')\r\n\r\n    def test_parameter_declaration(self):\r\n        """Test that parameters are properly declared"""\r\n        self.assertTrue(self.node.has_parameter(\'my_parameter\'))\r\n        self.assertEqual(self.node.get_parameter(\'my_parameter\').value, \'default_value\')\r\n\r\nif __name__ == \'__main__\':\r\n    unittest.main()\n'})}),"\n",(0,i.jsx)(n.h4,{id:"integration-testing-with-mock-data",children:"Integration Testing with Mock Data"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import unittest\r\nimport rclpy\r\nfrom std_msgs.msg import String\r\nfrom my_package.processing_node import ProcessingNode\r\n\r\nclass TestProcessingNode(unittest.TestCase):\r\n\r\n    def setUp(self):\r\n        rclpy.init()\r\n        self.node = ProcessingNode()\r\n        self.executor = rclpy.executors.SingleThreadedExecutor()\r\n        self.executor.add_node(self.node)\r\n\r\n    def tearDown(self):\r\n        self.node.destroy_node()\r\n        rclpy.shutdown()\r\n\r\n    def test_message_processing(self):\r\n        \"\"\"Test message processing with mock data\"\"\"\r\n        # Create a publisher to send test data\r\n        pub = self.node.create_publisher(String, 'input_topic', 10)\r\n\r\n        # Wait for publisher to be ready\r\n        self.executor.spin_once(timeout_sec=1.0)\r\n\r\n        # Send test message\r\n        test_msg = String()\r\n        test_msg.data = 'test_data'\r\n        pub.publish(test_msg)\r\n\r\n        # Process for a short time to allow message handling\r\n        self.executor.spin_once(timeout_sec=0.1)\r\n\r\n        # Add assertions based on expected behavior\r\n        # This would depend on your specific node implementation\r\n\r\nif __name__ == '__main__':\r\n    unittest.main()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-system-verification",children:"2. System Verification"}),"\n",(0,i.jsx)(n.h4,{id:"creating-verification-nodes",children:"Creating Verification Nodes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import Bool, String\r\nfrom builtin_interfaces.msg import Time\r\n\r\nclass SystemVerifier(Node):\r\n    """Node to verify system behavior and performance"""\r\n\r\n    def __init__(self):\r\n        super().__init__(\'system_verifier\')\r\n\r\n        # Publishers for verification results\r\n        self.passed_pub = self.create_publisher(Bool, \'verification_passed\', 10)\r\n        self.report_pub = self.create_publisher(String, \'verification_report\', 10)\r\n\r\n        # Timer for periodic verification\r\n        self.timer = self.create_timer(5.0, self.verify_system)\r\n\r\n        # Storage for verification results\r\n        self.verification_results = {}\r\n        self.start_time = self.get_clock().now()\r\n\r\n    def verify_system(self):\r\n        """Perform system verification checks"""\r\n        results = {\r\n            \'node_connections\': self.check_node_connections(),\r\n            \'topic_quality\': self.check_topic_quality(),\r\n            \'performance_metrics\': self.check_performance(),\r\n            \'data_integrity\': self.check_data_integrity()\r\n        }\r\n\r\n        # Aggregate results\r\n        all_passed = all(results.values())\r\n\r\n        # Publish results\r\n        passed_msg = Bool()\r\n        passed_msg.data = all_passed\r\n        self.passed_pub.publish(passed_msg)\r\n\r\n        report_msg = String()\r\n        report_msg.data = f"Verification at {self.get_clock().now().nanoseconds}: {results}"\r\n        self.report_pub.publish(report_msg)\r\n\r\n        self.get_logger().info(f\'System verification: {all_passed}\')\r\n\r\n        if not all_passed:\r\n            self.get_logger().error(f\'Verification failed: {results}\')\r\n\r\n    def check_node_connections(self):\r\n        """Check if expected nodes are connected"""\r\n        # Implementation depends on your system architecture\r\n        # Example: check if navigation, perception, and control nodes are active\r\n        nodes = self.get_node_names()\r\n        expected_nodes = [\'navigation_node\', \'perception_node\', \'controller_node\']\r\n\r\n        return all(node in nodes for node in expected_nodes)\r\n\r\n    def check_topic_quality(self):\r\n        """Check topic message rates and quality"""\r\n        # Implementation would check message rates, timestamps, etc.\r\n        # This is a simplified example\r\n        return True\r\n\r\n    def check_performance(self):\r\n        """Check system performance metrics"""\r\n        # Implementation would check CPU, memory, etc.\r\n        return True\r\n\r\n    def check_data_integrity(self):\r\n        """Check data integrity and validity"""\r\n        # Implementation would validate message contents\r\n        return True\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    verifier = SystemVerifier()\r\n\r\n    try:\r\n        rclpy.spin(verifier)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        verifier.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == \'__main__\':\r\n    main()\n'})}),"\n",(0,i.jsx)(n.h2,{id:"advanced-debugging-techniques",children:"Advanced Debugging Techniques"}),"\n",(0,i.jsx)(n.h3,{id:"1-performance-profiling",children:"1. Performance Profiling"}),"\n",(0,i.jsx)(n.h4,{id:"cpu-and-memory-monitoring",children:"CPU and Memory Monitoring"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nimport psutil\r\nimport os\r\nfrom std_msgs.msg import String\r\n\r\nclass PerformanceMonitor(Node):\r\n    \"\"\"Monitor system performance for debugging\"\"\"\r\n\r\n    def __init__(self):\r\n        super().__init__('performance_monitor')\r\n\r\n        self.perf_pub = self.create_publisher(String, 'performance_stats', 10)\r\n        self.timer = self.create_timer(1.0, self.monitor_performance)\r\n\r\n        # Get process ID for this node\r\n        self.process = psutil.Process(os.getpid())\r\n\r\n    def monitor_performance(self):\r\n        \"\"\"Monitor and report performance metrics\"\"\"\r\n        try:\r\n            # CPU usage\r\n            cpu_percent = self.process.cpu_percent()\r\n\r\n            # Memory usage\r\n            memory_info = self.process.memory_info()\r\n            memory_mb = memory_info.rss / 1024 / 1024  # Convert to MB\r\n\r\n            # System-wide metrics\r\n            system_cpu = psutil.cpu_percent()\r\n            system_memory = psutil.virtual_memory().percent\r\n\r\n            perf_msg = String()\r\n            perf_msg.data = (\r\n                f'Process: CPU={cpu_percent:.1f}%, Memory={memory_mb:.1f}MB | '\r\n                f'System: CPU={system_cpu:.1f}%, Memory={system_memory:.1f}%'\r\n            )\r\n\r\n            self.perf_pub.publish(perf_msg)\r\n\r\n            # Log warnings for performance issues\r\n            if cpu_percent > 80:\r\n                self.get_logger().warn(f'High CPU usage: {cpu_percent}%')\r\n            if memory_mb > 500:  # 500MB threshold\r\n                self.get_logger().warn(f'High memory usage: {memory_mb:.1f}MB')\r\n\r\n        except Exception as e:\r\n            self.get_logger().error(f'Performance monitoring error: {e}')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    monitor = PerformanceMonitor()\r\n\r\n    try:\r\n        rclpy.spin(monitor)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        monitor.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-message-filtering-and-analysis",children:"2. Message Filtering and Analysis"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom sensor_msgs.msg import LaserScan\r\nfrom std_msgs.msg import Header\r\nimport numpy as np\r\n\r\nclass MessageAnalyzer(Node):\r\n    \"\"\"Analyze message patterns for debugging\"\"\"\r\n\r\n    def __init__(self):\r\n        super().__init__('message_analyzer')\r\n\r\n        self.scan_sub = self.create_subscription(\r\n            LaserScan, 'scan', self.scan_callback, 10)\r\n\r\n        self.message_stats = {\r\n            'count': 0,\r\n            'timestamps': [],\r\n            'rates': [],\r\n            'data_stats': []\r\n        }\r\n\r\n    def scan_callback(self, msg):\r\n        \"\"\"Analyze laser scan messages\"\"\"\r\n        self.message_stats['count'] += 1\r\n\r\n        # Track timing\r\n        current_time = msg.header.stamp.sec + msg.header.stamp.nanosec * 1e-9\r\n        self.message_stats['timestamps'].append(current_time)\r\n\r\n        # Calculate message rate\r\n        if len(self.message_stats['timestamps']) > 1:\r\n            time_diff = np.diff(self.message_stats['timestamps'])\r\n            if len(time_diff) > 0:\r\n                rate = 1.0 / np.mean(time_diff)\r\n                self.message_stats['rates'].append(rate)\r\n\r\n                if rate < 5.0:  # If rate drops below 5Hz\r\n                    self.get_logger().warn(f'Low message rate: {rate:.2f} Hz')\r\n\r\n        # Analyze data patterns\r\n        valid_ranges = [r for r in msg.ranges if r > 0 and not np.isnan(r)]\r\n        if valid_ranges:\r\n            self.message_stats['data_stats'].append({\r\n                'min_range': min(valid_ranges) if valid_ranges else None,\r\n                'max_range': max(valid_ranges) if valid_ranges else None,\r\n                'mean_range': np.mean(valid_ranges) if valid_ranges else None,\r\n                'num_valid': len(valid_ranges)\r\n            })\r\n\r\n        # Check for data anomalies\r\n        if len(valid_ranges) < 10:  # Too few valid readings\r\n            self.get_logger().warn(f'Very few valid ranges: {len(valid_ranges)}')\r\n\r\n        # Check for sensor errors\r\n        if not valid_ranges and len(msg.ranges) > 0:\r\n            self.get_logger().error('All ranges invalid - sensor error?')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    analyzer = MessageAnalyzer()\r\n\r\n    try:\r\n        rclpy.spin(analyzer)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        analyzer.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices-for-verification-and-debugging",children:"Best Practices for Verification and Debugging"}),"\n",(0,i.jsx)(n.h3,{id:"1-systematic-approach",children:"1. Systematic Approach"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Start with high-level system behavior before diving into details"}),"\n",(0,i.jsx)(n.li,{children:"Use logging levels appropriately (DEBUG, INFO, WARN, ERROR)"}),"\n",(0,i.jsx)(n.li,{children:"Implement early failure detection"}),"\n",(0,i.jsx)(n.li,{children:"Create diagnostic nodes for complex systems"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"2-documentation-and-traceability",children:"2. Documentation and Traceability"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Document debugging procedures and common issues"}),"\n",(0,i.jsx)(n.li,{children:"Use meaningful node and topic names"}),"\n",(0,i.jsx)(n.li,{children:"Maintain version control for configurations"}),"\n",(0,i.jsx)(n.li,{children:"Create runbooks for common debugging scenarios"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"3-automated-testing",children:"3. Automated Testing"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Implement unit tests for individual components"}),"\n",(0,i.jsx)(n.li,{children:"Create integration tests for subsystems"}),"\n",(0,i.jsx)(n.li,{children:"Set up continuous integration for regression testing"}),"\n",(0,i.jsx)(n.li,{children:"Use simulation for testing before real robot deployment"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"4-performance-monitoring",children:"4. Performance Monitoring"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Monitor CPU, memory, and network usage"}),"\n",(0,i.jsx)(n.li,{children:"Track message rates and latencies"}),"\n",(0,i.jsx)(n.li,{children:"Set up alerts for performance degradation"}),"\n",(0,i.jsx)(n.li,{children:"Profile code for bottlenecks"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting-common-issues",children:"Troubleshooting Common Issues"}),"\n",(0,i.jsx)(n.h3,{id:"1-communication-issues",children:"1. Communication Issues"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Check topic connections: ",(0,i.jsx)(n.code,{children:"ros2 topic info <topic>"})]}),"\n",(0,i.jsx)(n.li,{children:"Verify QoS settings match between publishers and subscribers"}),"\n",(0,i.jsx)(n.li,{children:"Check network configuration for multi-machine setups"}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"ros2 doctor"})," for system diagnostics"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"2-timing-issues",children:"2. Timing Issues"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check message timestamps for delays"}),"\n",(0,i.jsx)(n.li,{children:"Verify system clocks are synchronized"}),"\n",(0,i.jsx)(n.li,{children:"Monitor message processing rates"}),"\n",(0,i.jsx)(n.li,{children:"Check for blocking operations in callbacks"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"3-resource-issues",children:"3. Resource Issues"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Monitor CPU and memory usage"}),"\n",(0,i.jsx)(n.li,{children:"Check for memory leaks in long-running nodes"}),"\n",(0,i.jsx)(n.li,{children:"Verify proper resource cleanup"}),"\n",(0,i.jsx)(n.li,{children:"Monitor disk space for logging"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,i.jsx)(n.p,{children:"[All sources will be cited in the References section at the end of the book, following APA format]"})]})}function g(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,r){r.d(n,{R:()=>o,x:()=>a});var s=r(6540);const i={},t=s.createContext(i);function o(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);