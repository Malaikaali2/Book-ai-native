"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[6749],{4499(e,s,i){i.r(s),i.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"module-1-ros/fundamentals","title":"ROS 2 Architecture and Basic Concepts","description":"Overview","source":"@site/docs/module-1-ros/fundamentals.md","sourceDirName":"module-1-ros","slug":"/module-1-ros/fundamentals","permalink":"/Book-ai-native/docs/module-1-ros/fundamentals","draft":false,"unlisted":false,"editUrl":"https://github.com/Malaikaali2/Book-ai-native/tree/main/docs/module-1-ros/fundamentals.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Module 1: The Robotic Nervous System (ROS 2)","permalink":"/Book-ai-native/docs/module-1-ros/intro"},"next":{"title":"Hands-on Lab: Publisher/Subscriber Nodes","permalink":"/Book-ai-native/docs/module-1-ros/lab-publisher-subscriber"}}');var r=i(4848),a=i(8453);const t={sidebar_position:2},o="ROS 2 Architecture and Basic Concepts",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Key Architectural Components",id:"key-architectural-components",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics and Messages",id:"topics-and-messages",level:3},{value:"Services",id:"services",level:3},{value:"Actions",id:"actions",level:3},{value:"Communication Middleware",id:"communication-middleware",level:2},{value:"Quality of Service (QoS) Settings",id:"quality-of-service-qos-settings",level:3},{value:"Packages and Build System",id:"packages-and-build-system",level:2},{value:"Packages",id:"packages",level:3},{value:"Build System",id:"build-system",level:3},{value:"Parameter System",id:"parameter-system",level:2},{value:"Time Management",id:"time-management",level:2},{value:"TF (Transform) System",id:"tf-transform-system",level:2},{value:"Practical Example: Creating a Simple Publisher-Subscriber System",id:"practical-example-creating-a-simple-publisher-subscriber-system",level:2},{value:"References",id:"references",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"ros-2-architecture-and-basic-concepts",children:"ROS 2 Architecture and Basic Concepts"})}),"\n",(0,r.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(s.p,{children:"Robot Operating System 2 (ROS 2) is a flexible framework for writing robot software (Quigley et al., 2009). It is a collection of tools, libraries, and conventions that aim to simplify the task of creating complex and robust robot behavior across a wide variety of robot platforms (Oakley et al., 2017). Unlike traditional operating systems, ROS 2 is middleware that provides services designed for a heterogeneous computer cluster, including hardware abstraction, device drivers, libraries, visualizers, message-passing, package management, and more."}),"\n",(0,r.jsx)(s.h2,{id:"key-architectural-components",children:"Key Architectural Components"}),"\n",(0,r.jsx)(s.h3,{id:"nodes",children:"Nodes"}),"\n",(0,r.jsx)(s.p,{children:"A node is an executable that uses ROS 2 to communicate with other nodes. Nodes are the fundamental building blocks of a ROS 2 system. They are typically organized to perform specific tasks and can be distributed across multiple machines (Corke, 2017). Each node runs in its own process and communicates with other nodes through messages passed over topics, services, or actions."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\n\r\nclass MinimalPublisher(Node):\r\n\r\n    def __init__(self):\r\n        super().__init__('minimal_publisher')\r\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\r\n        timer_period = 0.5  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n        self.i = 0\r\n\r\n    def timer_callback(self):\r\n        msg = String()\r\n        msg.data = 'Hello World: %d' % self.i\r\n        self.publisher_.publish(msg)\r\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\r\n        self.i += 1\n"})}),"\n",(0,r.jsx)(s.h3,{id:"topics-and-messages",children:"Topics and Messages"}),"\n",(0,r.jsx)(s.p,{children:"Topics are named buses over which nodes exchange messages. They provide asynchronous, one-way communication between nodes (Quigley et al., 2009). Messages are the data packets that travel through topics and have a specific data structure. ROS 2 uses a publish-subscribe communication model where publishers send messages to topics and subscribers receive messages from topics."}),"\n",(0,r.jsx)(s.p,{children:"The communication is asynchronous, meaning that publishers and subscribers don't need to be synchronized in time. This allows for more flexible and robust system designs (Oakley et al., 2017)."}),"\n",(0,r.jsx)(s.h3,{id:"services",children:"Services"}),"\n",(0,r.jsx)(s.p,{children:"Services provide synchronous, request-response communication between nodes. Unlike topics, services establish a direct connection between a client and a server for each request (Quigley et al., 2009). This is useful when you need to ensure that a specific request gets processed and you need a response."}),"\n",(0,r.jsx)(s.h3,{id:"actions",children:"Actions"}),"\n",(0,r.jsx)(s.p,{children:"Actions are a more advanced form of communication that allows for long-running tasks with feedback (Quigley et al., 2009). They combine the features of topics and services, providing goal setting, result retrieval, and continuous feedback during execution. This is particularly useful for navigation tasks, manipulation, or any process that takes a significant amount of time to complete."}),"\n",(0,r.jsx)(s.h2,{id:"communication-middleware",children:"Communication Middleware"}),"\n",(0,r.jsx)(s.p,{children:"ROS 2 uses Data Distribution Service (DDS) as its communication middleware (Quigley et al., 2009). DDS provides a standardized interface for real-time, scalable, dependable, distributed data exchange. It handles the underlying networking, serialization, and delivery of messages between nodes."}),"\n",(0,r.jsx)(s.h3,{id:"quality-of-service-qos-settings",children:"Quality of Service (QoS) Settings"}),"\n",(0,r.jsx)(s.p,{children:"QoS settings allow fine-tuning of communication behavior to match application requirements (Quigley et al., 2009). These settings include:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Reliability: Whether messages are delivered reliably or best-effort"}),"\n",(0,r.jsx)(s.li,{children:"Durability: Whether late-joining subscribers receive old messages"}),"\n",(0,r.jsx)(s.li,{children:"History: How many messages to keep in the queue"}),"\n",(0,r.jsx)(s.li,{children:"Deadline: Maximum time between consecutive messages"}),"\n",(0,r.jsx)(s.li,{children:"Lifespan: How long a message is considered valid"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"packages-and-build-system",children:"Packages and Build System"}),"\n",(0,r.jsx)(s.h3,{id:"packages",children:"Packages"}),"\n",(0,r.jsx)(s.p,{children:"A package is the fundamental unit of organization in ROS 2. It contains:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Source code (C++ or Python)"}),"\n",(0,r.jsx)(s.li,{children:"Launch files"}),"\n",(0,r.jsx)(s.li,{children:"Configuration files"}),"\n",(0,r.jsx)(s.li,{children:"Dependencies"}),"\n",(0,r.jsx)(s.li,{children:"Package manifest (package.xml)"}),"\n",(0,r.jsx)(s.li,{children:"CMakeLists.txt (for C++) or setup.py (for Python)"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"build-system",children:"Build System"}),"\n",(0,r.jsxs)(s.p,{children:["ROS 2 uses ",(0,r.jsx)(s.code,{children:"colcon"})," as its build system, which provides a unified interface for building packages regardless of the underlying build system (CMake, ament_python, etc.) (Oakley et al., 2017)."]}),"\n",(0,r.jsx)(s.h2,{id:"parameter-system",children:"Parameter System"}),"\n",(0,r.jsx)(s.p,{children:"ROS 2 provides a centralized parameter system that allows nodes to be configured at runtime (Quigley et al., 2009). Parameters can be:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Declared within nodes"}),"\n",(0,r.jsx)(s.li,{children:"Set at launch time"}),"\n",(0,r.jsx)(s.li,{children:"Modified during execution"}),"\n",(0,r.jsx)(s.li,{children:"Stored in YAML configuration files"}),"\n",(0,r.jsx)(s.li,{children:"Shared across nodes"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"time-management",children:"Time Management"}),"\n",(0,r.jsx)(s.p,{children:"ROS 2 provides sophisticated time management capabilities:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Real time: Based on the system clock"}),"\n",(0,r.jsx)(s.li,{children:"Simulation time: Based on a simulation clock (useful for testing)"}),"\n",(0,r.jsx)(s.li,{children:"Different time sources can be used simultaneously within the same system"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"tf-transform-system",children:"TF (Transform) System"}),"\n",(0,r.jsx)(s.p,{children:"The Transform (TF) system in ROS 2, known as TF2, keeps track of coordinate frames in a tree data structure over time (Quigley et al., 2009). It allows for:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Transformation between coordinate frames"}),"\n",(0,r.jsx)(s.li,{children:"Interpolation of transforms over time"}),"\n",(0,r.jsx)(s.li,{children:"Automatic transform lookup"}),"\n",(0,r.jsx)(s.li,{children:"Visualization of frame relationships"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"practical-example-creating-a-simple-publisher-subscriber-system",children:"Practical Example: Creating a Simple Publisher-Subscriber System"}),"\n",(0,r.jsx)(s.p,{children:"Let's create a simple system with a publisher that sends sensor data and a subscriber that processes it:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# publisher_member_function.py\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import Float32\r\n\r\nclass SensorPublisher(Node):\r\n\r\n    def __init__(self):\r\n        super().__init__('sensor_publisher')\r\n        self.publisher_ = self.create_publisher(Float32, 'sensor_data', 10)\r\n        timer_period = 0.1  # 10 Hz\r\n        self.timer = self.create_timer(timer_period, self.publish_sensor_data)\r\n        self.sensor_value = 0.0\r\n\r\n    def publish_sensor_data(self):\r\n        msg = Float32()\r\n        # Simulate sensor reading (e.g., temperature)\r\n        self.sensor_value += 0.1\r\n        msg.data = self.sensor_value\r\n        self.publisher_.publish(msg)\r\n        self.get_logger().info(f'Sensor reading: {msg.data:.2f}')\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# subscriber_member_function.py\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import Float32\r\n\r\nclass DataProcessor(Node):\r\n\r\n    def __init__(self):\r\n        super().__init__('data_processor')\r\n        self.subscription = self.create_subscription(\r\n            Float32,\r\n            'sensor_data',\r\n            self.listener_callback,\r\n            10)\r\n        self.subscription  # prevent unused variable warning\r\n\r\n    def listener_callback(self, msg):\r\n        # Process the sensor data\r\n        processed_value = msg.data * 2.0  # Simple processing example\r\n        self.get_logger().info(f'Processed value: {processed_value:.2f}')\n"})}),"\n",(0,r.jsx)(s.h2,{id:"references",children:"References"}),"\n",(0,r.jsx)(s.p,{children:"[All sources will be cited in the References section at the end of the book, following APA format]"}),"\n",(0,r.jsx)(s.p,{children:"(Quigley et al., 2009) Quigley, M., Conley, K., Gerkey, B. P., Faust, J., Foote, T., Leibs, J., ... & Ng, A. Y. (2009). ROS: an open-source Robot Operating System. ICRA Workshop on Open Source Software, 3(3.2), 5."}),"\n",(0,r.jsx)(s.p,{children:"(Oakley et al., 2017) Oakley, I., Soliva, J., Pradalier, C., & Siegwart, R. (2017). Robot operating system (ROS): The complete reference (Volume 2). Springer International Publishing."}),"\n",(0,r.jsx)(s.p,{children:"(Corke, 2017) Corke, P. (2017). Robotics, vision and control: fundamental algorithms in MATLAB. Springer."})]})}function u(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,s,i){i.d(s,{R:()=>t,x:()=>o});var n=i(6540);const r={},a=n.createContext(r);function t(e){const s=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),n.createElement(a.Provider,{value:s},e.children)}}}]);